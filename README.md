# üöÄ Booking API ‚Äî FastAPI + PostgreSQL + Loki + Grafana

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–∏–∫–æ–≤ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ. –õ–µ–≥–∫–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏, –∏–º–µ–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

---

## üì¶ –°–æ—Å—Ç–∞–≤

- **FastAPI** ‚Äî backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Grafana + Loki + Promtail** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **Pytest** ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Docker Compose** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ `.env`

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–∞–∫–∏–µ –Ω—É–∂–Ω—ã - —Å–º. env_template)

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
docker compose up --build
```
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è(Swagger) –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

üìå http://localhost:8000/docs

### 3. Grafana (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤)

üìå http://localhost:3000

–õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: admin / admin

–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ *–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è*:
 * –ü–µ—Ä–µ–π–¥–∏ –≤ Explore
 * –ö–∞–∫ –¥–∞—Ç–∞-—Å–æ—Ä—Å –≤—ã–±–∏—Ä–∞–µ–º Loki
 * –í—ã–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å:

```
{container="booking_api"}
```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ù–∞ Github –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ CI, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–Ω—Ç–µ—Ä–æ–º –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –ø–æ—Å–ª–µ –ø—É—à–∞.
–ù–æ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∞—Ç—å —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:
```
docker-compose -f docker-compose-test.yml up --build --abort-on-container-exit --exit-code-from test_app
```

–¢–∞–∫–∂–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ—Ç—ã–∫–∞—Ç—å API –º–æ–∂–Ω–æ —Ç—É—Ç - 
Grafana —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –ø–æ—Ä—Ç–µ, –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
